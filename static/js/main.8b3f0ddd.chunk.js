(this["webpackJsonpblog-frontend"]=this["webpackJsonpblog-frontend"]||[]).push([[0],{103:function(e,n){},110:function(e,n,t){"use strict";t.r(n);var r,a,o,c,i,s,u,b,l,j,d,O,p=t(1),g=t.n(p),f=t(32),h=t.n(f),m=(t(70),t(15)),x=t(11),v=t(3),y=t(4),w=t(5),E=t(65),k=t(0),C=y.b.div(r||(r=Object(v.a)(["\n  padding-left: 1rem;\n  padding-right: 1rem;\n  width: 1024px;\n  margin: 0 auto; /* \uc911\uc559 \uc815\ub82c */\n\n  /* \ube0c\ub77c\uc6b0\uc800 \ud06c\uae30\uc5d0 \ub530\ub77c \uac00\ub85c \ud06c\uae30 \ubcc0\uacbd */\n  @media (max-width: 1024px) {\n    width: 768px;\n  }\n  @media (max-width: 768px) {\n    width: 100%;\n  }\n"]))),S=function(e){var n=e.children,t=Object(E.a)(e,["children"]);return Object(k.jsx)(C,Object(w.a)(Object(w.a)({},t),{},{children:n}))},T=t(13),I={gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"]},R=Object(y.a)(a||(a=Object(v.a)(["\n  border: none;\n  border-radius: 4px;\n  font-size: 1rem;\n  font-weight: bold;\n  padding: 0.25rem 1rem;\n  color: white;\n  outline: none;\n  cursor: pointer;\n\n  background: ",";\n  &:hover {\n    background: ",";\n  }\n  ","\n\n  ","\n\n&:disabled {\n    background: ",";\n    color: ",";\n    cursor: not-allowed;\n  }\n"])),I.gray[8],I.gray[6],(function(e){return e.fullWidth&&Object(y.a)(o||(o=Object(v.a)(["\n      padding-top: 0.75rem;\n      padding-bottom: 0.75rem;\n      width: 100%;\n      font-size: 1.125rem;\n    "])))}),(function(e){return e.indigo&&Object(y.a)(c||(c=Object(v.a)(["\nbackground: ","};\n&:hover{\n    background: ",";\n}\n"])),I.indigo[4],I.indigo[3])}),I.gray[3],I.gray[5]),P=y.b.button(i||(i=Object(v.a)(["\n  ","\n"])),R),_=Object(y.b)(T.b)(s||(s=Object(v.a)(["\n  ","\n"])),R),L=function(e){return e.to?Object(k.jsx)(_,Object(w.a)(Object(w.a)({},e),{},{indigo:e.indigo?1:0})):Object(k.jsx)(P,Object(w.a)({},e))},D=y.b.div(u||(u=Object(v.a)(["\n  position: fixed;\n  width: 100%;\n  background: white;\n  box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.08);\n"]))),A=Object(y.b)(S)(b||(b=Object(v.a)(["\n  height: 4rem;\n  display: flex;\n  align-items: center;\n  justify-content: space-between; /* \uc790\uc2dd \uc5d8\ub9ac\uba3c\ud2b8 \uc0ac\uc774\uc758 \uc5ec\ubc31\uc744 \ucd5c\ub300\ub85c \uc124\uc815 */\n  .logo {\n    font-size: 1.125rem;\n    font-weight: 800;\n    letter-spacing: center;\n  }\n  .right {\n    display: fixed;\n    align-items: center;\n  }\n"]))),N=y.b.div(l||(l=Object(v.a)(["\n  height: 4rem;\n"]))),F=y.b.div(j||(j=Object(v.a)(["\n  font-weight: 800;\n  margin-right: 1rem;\n"]))),z=function(e){var n=e.user,t=e.onLogout;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(D,{children:Object(k.jsxs)(A,{children:[Object(k.jsx)(T.b,{to:"/",className:"logo",children:"REACTERS"}),n?Object(k.jsxs)("div",{className:"right",children:[Object(k.jsx)(F,{children:n.username}),Object(k.jsx)(L,{onClick:t,children:"\ub85c\uadf8\uc544\uc6c3"})]}):Object(k.jsx)("div",{className:"right",children:Object(k.jsx)(L,{to:"/login",children:"\ub85c\uadf8\uc778"})})]})}),Object(k.jsx)(N,{})]})},M=t(8),B=t(12),G=t.n(B),U=t(16),H=t(112),W=t(111),q=t(14),J=t(57),Q=t.n(J).a.create(),Z=function(){return Q.post("/api/auth/logout")},K="loading/START_LOADING",$="loading/FINISH_LOADING",V=Object(H.a)(K,(function(e){return e})),X=Object(H.a)($,(function(e){return e})),Y=Object(W.a)((d={},Object(M.a)(d,K,(function(e,n){return Object(w.a)(Object(w.a)({},e),{},Object(M.a)({},n.payload,!0))})),Object(M.a)(d,$,(function(e,n){return Object(w.a)(Object(w.a)({},e),{},Object(M.a)({},n.payload,!1))})),d),{}),ee=function(e){return[e,"".concat(e,"_SUCCESS"),"".concat(e,"_FAILURE")]};function ne(e,n){var t="".concat(e,"_SUCCESS"),r="".concat(e,"_FAILURE");return G.a.mark((function a(o){var c;return G.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(q.c)(V(e));case 2:return a.prev=2,a.next=5,Object(q.b)(n,o.payload);case 5:return c=a.sent,a.next=8,Object(q.c)({type:t,payload:c.data,meta:c});case 8:a.next=14;break;case 10:return a.prev=10,a.t0=a.catch(2),a.next=14,Object(q.c)({type:r,payload:a.t0,error:!0});case 14:return a.next=16,Object(q.c)(X(e));case 16:case"end":return a.stop()}}),a,null,[[2,10]])}))}var te=G.a.mark(ge),re=G.a.mark(fe),ae="user/TEMP_SET_USER",oe=ee("user/CHECK"),ce=Object(U.a)(oe,3),ie=ce[0],se=ce[1],ue=ce[2],be="user/LOGOUT",le=Object(H.a)(ae,(function(e){return e})),je=Object(H.a)(ie),de=Object(H.a)(be),Oe=ne(ie,(function(){return Q.get("/api/auth/check")}));function pe(){try{localStorage.removeItem("user")}catch(e){console.log("localStorage is not working")}}function ge(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(q.b)(Z);case 3:localStorage.removeItem("user"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),te,null,[[0,6]])}function fe(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(q.d)(ie,Oe);case 2:return e.next=4,Object(q.d)(ue,pe);case 4:return e.next=6,Object(q.d)(be,ge);case 6:case"end":return e.stop()}}),re)}var he,me,xe,ve,ye,we,Ee,ke=Object(W.a)((O={},Object(M.a)(O,ae,(function(e,n){var t=n.payload;return Object(w.a)(Object(w.a)({},e),{},{user:t})})),Object(M.a)(O,se,(function(e,n){var t=n.payload;return Object(w.a)(Object(w.a)({},e),{},{user:t,checkError:null})})),Object(M.a)(O,ue,(function(e,n){var t=n.payload;return Object(w.a)(Object(w.a)({},e),{},{user:null,checkError:t})})),Object(M.a)(O,be,(function(e){return Object(w.a)(Object(w.a)({},e),{},{user:null})})),O),{user:null,checkError:null}),Ce=function(){var e=Object(x.c)((function(e){return{user:e.user.user}})).user,n=Object(x.b)();return Object(k.jsx)(z,{user:e,onLogout:function(){n(de())}})},Se=t(23),Te=t.n(Se),Ie=y.b.div(he||(he=Object(v.a)(["\n  ","\n  color: ",";\n\n   /* span \uc0ac\uc774\uc5d0 \uac00\uc6c3\ub383\uc810 \ubb38\uc790 \ubcf4\uc5ec\uc8fc\uae30 */\n\nspan + span:before {\n    color: ",";\n    padding-left: 0.25rem;\n    padding-right: 0.25rem;\n    content: '\\B7': /* \uac00\uc6b4\ub383\uc810 \ubb38\uc790 */\n    }\n"],["\n  ","\n  color: ",";\n\n   /* span \uc0ac\uc774\uc5d0 \uac00\uc6c3\ub383\uc810 \ubb38\uc790 \ubcf4\uc5ec\uc8fc\uae30 */\n\nspan + span:before {\n    color: ",";\n    padding-left: 0.25rem;\n    padding-right: 0.25rem;\n    content: '\\\\B7': /* \uac00\uc6b4\ub383\uc810 \ubb38\uc790 */\n    }\n"])),(function(e){return e.hasMarginTop&&Object(y.a)(me||(me=Object(v.a)(["\n      margin-top: 1rem;\n    "])))}),I.gray[6],I.gray[4]),Re=function(e){var n=e.username,t=e.publishedDate,r=e.hasMarginTop;return Object(k.jsxs)(Ie,{hasMarginTop:r,children:[Object(k.jsx)("span",{children:Object(k.jsx)("b",{children:Object(k.jsx)(T.b,{to:"/@".concat(n),children:n})})}),Object(k.jsx)("span",{children:new Date(t).toLocaleDateString()})]})},Pe=y.b.div(xe||(xe=Object(v.a)(["\n  margin-top: 0.5rem;\n  .tag {\n    display: inline-block;\n    color: ",";\n    text-decoration: none;\n    margin-right: 0.5rem;\n    &:hover {\n      color: ",";\n    }\n  }\n"])),I.indigo[6],I.indigo[5]),_e=function(e){var n=e.tags;return Object(k.jsx)(Pe,{children:n.map((function(e){return Object(k.jsxs)(T.b,{className:"tag",to:"/?tag=".concat(e),children:["#",e]},e)}))})},Le=Object(y.b)(S)(ve||(ve=Object(v.a)(["\n  margin-top: 3rem;\n"]))),De=y.b.div(ye||(ye=Object(v.a)(["\n  display: flex;\n  justify-content: flex-end;\n  margin-bottom: 3rem;\n"]))),Ae=y.b.div(we||(we=Object(v.a)(["\n  padding-top: 3rem;\n  padding-bottom: 3rem;\n  /* \ub9e8\uc704\uc758 \ud3ec\uc2a4\ud2b8\ub294 padding-top \uc5c6\uc74c*/\n  &:first-child {\n    padding-top: 0;\n  }\n  & + & {\n    border-top: 1px solid ",";\n  }\n\n  h2 {\n    font-size: 2rem;\n    margin-bottom: 0;\n    margin-top: 0;\n    &:hover {\n      color: ",";\n    }\n  }\n  p {\n    margin-top: 2rem;\n  }\n"])),I.gray[2],I.gray[6]),Ne=function(e){var n=e.post,t=n.publishedDate,r=n.user,a=n.tags,o=n.title,c=n.body,i=n._id;return Object(k.jsxs)(Ae,{children:[Object(k.jsx)("h2",{children:Object(k.jsx)(T.b,{to:"/@".concat(r.username,"/").concat(i),children:o})}),Object(k.jsx)(Re,{username:r.username,publishedDate:new Date(t)}),Object(k.jsx)(_e,{tags:a}),Object(k.jsx)("p",{children:c})]})},Fe=function(e){var n=e.posts,t=e.loading,r=e.error,a=e.showWirteButton;return r?Object(k.jsx)(Le,{children:"\uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4"}):Object(k.jsxs)(Le,{children:[Object(k.jsx)(De,{children:a&&Object(k.jsx)(L,{indigo:!0,to:"/write",children:"\uc0c8 \uae00 \uc791\uc131\ud558\uae30"})}),!t&&n&&Object(k.jsx)("div",{children:n.map((function(e){return Object(k.jsx)(Ne,{post:e},e._id)}))})]})},ze=G.a.mark(Je),Me=ee("posts/LIST_POSTS"),Be=Object(U.a)(Me,3),Ge=Be[0],Ue=Be[1],He=Be[2],We=Object(H.a)(Ge,(function(e){return{tag:e.tag,username:e.username,page:e.page}})),qe=ne(Ge,(function(e){var n=e.page,t=e.username,r=e.tag,a=Te.a.stringify({page:n,username:t,tag:r});return Q.get("/api/posts?".concat(a))}));function Je(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(q.d)(Ge,qe);case 2:case"end":return e.stop()}}),ze)}var Qe,Ze,Ke,$e,Ve,Xe=Object(W.a)((Ee={},Object(M.a)(Ee,Ue,(function(e,n){var t=n.payload,r=n.meta;return Object(w.a)(Object(w.a)({},e),{},{posts:t,lastPage:parseInt(r.headers["last-page"],10)})})),Object(M.a)(Ee,He,(function(e,n){var t=n.payload;return Object(w.a)(Object(w.a)({},e),{},{error:t})})),Ee),{posts:null,error:null,lastPage:1}),Ye=Object(m.e)((function(e){var n=e.location,t=(e.match,Object(x.b)()),r=Object(x.c)((function(e){var n=e.posts,t=e.loading,r=e.user;return{posts:n.posts,error:n.error,loading:t["posts/LIST_POSTS"],user:r.user}})),a=r.posts,o=r.error,c=r.loading,i=r.user;return Object(p.useEffect)((function(){var e=Te.a.parse(n.search,{ignoreQueryPrefix:!0}),r=e.tag,a=e.username,o=e.page;t(We({tag:r,username:a,page:o}))}),[t,n.search]),Object(k.jsx)(Fe,{loading:c,error:o,posts:a,showWriteButton:i})})),en=y.b.div(Qe||(Qe=Object(v.a)(["\n  width: 320px;\n  margin: 0 auto;\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 3rem;\n"]))),nn=y.b.div(Ze||(Ze=Object(v.a)([""]))),tn=function(e){var n=e.username,t=e.tag,r=e.page,a=Te.a.stringify({tag:t,page:r});return n?"/@".concat(n,"?").concat(a):"/?".concat(a)},rn=function(e){var n=e.page,t=e.lastPage,r=e.username,a=e.tag;return Object(k.jsxs)(en,{children:[Object(k.jsx)(L,{disabled:1===n,to:1===n?void 0:tn({username:r,tag:a,page:n-1}),children:"\uc774\uc804"}),Object(k.jsx)(nn,{children:n}),Object(k.jsx)(L,{disabled:n===t,to:n===t?void 0:tn({username:r,tag:a,page:n+1}),children:"\ub2e4\uc74c"})]})},an=Object(m.e)((function(e){var n=e.location,t=Object(x.c)((function(e){var n=e.posts,t=e.loading;return{lastPage:n.lastPage,posts:n.posts,loading:t["posts/LIST_POSTS"]}})),r=t.lastPage,a=t.posts,o=t.loading;if(!a||o)return null;var c=Te.a.parse(n.search,{ignoreQueryPrefix:!0}),i=c.tag,s=c.username,u=c.page,b=void 0===u?1:u;return Object(k.jsx)(rn,{tag:i,username:s,page:parseInt(b,10),lastPage:r})})),on=function(){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(Ce,{}),Object(k.jsx)(Ye,{}),Object(k.jsx)(an,{})]})},cn=y.b.div(Ke||(Ke=Object(v.a)(["\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  background: ",";\n  /* flex\ub85c \ub0b4\ubd80 \ub0b4\uc6a9 \uc911\uc559 \uc815\ub82c */\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"])),I.gray[2]),sn=y.b.div($e||($e=Object(v.a)(["\n  .logo-area {\n    display: black;\n    padding-botton: 2rem;\n    text-align: center;\n    font-weight: bold;\n    letter-spacing: 2px;\n  }\n  box-shadow: 0 0 8px rgba(0, 0, 0, 0.025);\n  padding: 2rem;\n  width: 360px;\n  background: white;\n  border-radius: 2px;\n"]))),un=function(e){var n=e.children;return Object(k.jsx)(cn,{children:Object(k.jsxs)(sn,{children:[Object(k.jsx)("div",{className:"logo-area",children:Object(k.jsx)(T.b,{to:"/",children:"REACTERS"})}),n]})})},bn=t(58),ln=G.a.mark(Rn),jn="auth/CHANGE_FIELD",dn="auth/INITIALIZE_FORM",On=ee("auth/REGISTER"),pn=Object(U.a)(On,3),gn=pn[0],fn=pn[1],hn=pn[2],mn=ee("auth/LOGIN"),xn=Object(U.a)(mn,3),vn=xn[0],yn=xn[1],wn=xn[2],En=Object(H.a)(jn,(function(e){return{form:e.form,key:e.key,value:e.value}})),kn=Object(H.a)(dn,(function(e){return e})),Cn=Object(H.a)(gn,(function(e){return{username:e.username,password:e.password}})),Sn=Object(H.a)(vn,(function(e){return{username:e.username,password:e.password}})),Tn=ne(gn,(function(e){var n=e.username,t=e.password;return Q.post("/api/auth/register",{username:n,password:t})})),In=ne(vn,(function(e){var n=e.username,t=e.password;return Q.post("/api/auth/login",{username:n,password:t})}));function Rn(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(q.d)(gn,Tn);case 2:return e.next=4,Object(q.d)(vn,In);case 4:case"end":return e.stop()}}),ln)}var Pn,_n,Ln,Dn,An,Nn,Fn,zn,Mn,Bn={register:{username:"",password:"",passwordConfirm:""},login:{username:"",password:""},auth:null,authError:null},Gn=Object(W.a)((Ve={},Object(M.a)(Ve,jn,(function(e,n){var t=n.payload,r=t.form,a=t.key,o=t.value;return Object(bn.a)(e,(function(e){e[r][a]=o}))})),Object(M.a)(Ve,dn,(function(e,n){var t,r=n.payload;return Object(w.a)(Object(w.a)({},e),{},(t={},Object(M.a)(t,r,Bn[r]),Object(M.a)(t,"authError",null),t))})),Object(M.a)(Ve,fn,(function(e,n){var t=n.payload;return Object(w.a)(Object(w.a)({},e),{},{authError:null,auth:t})})),Object(M.a)(Ve,hn,(function(e,n){var t=n.payload;return Object(w.a)(Object(w.a)({},e),{},{authError:t})})),Object(M.a)(Ve,yn,(function(e,n){var t=n.payload;return Object(w.a)(Object(w.a)({},e),{},{authError:null,auth:t})})),Object(M.a)(Ve,wn,(function(e,n){var t=n.payload;return Object(w.a)(Object(w.a)({},e),{},{authError:t})})),Ve),Bn),Un=y.b.div(Pn||(Pn=Object(v.a)(["\n  h3 {\n    margin: 0;\n    color: ",";\n    margin-bottom: 1rem;\n  }\n"])),I.gray[8]),Hn=y.b.input(_n||(_n=Object(v.a)(["\n  font-size: 1rem;\n  border: none;\n  border-bottom: 1px solid ",";\n  padding-bottom: 0.5rem;\n  outline: none;\n  width: 100%;\n  &:focus {\n    color: $oc-teal-7;\n    border-bottom: 1px solid ",";\n  }\n  & + & {\n    margin-top: 1rem;\n  }\n"])),I.gray[5],I.gray[7]),Wn=y.b.div(Ln||(Ln=Object(v.a)(["\n  margin-top: 2rem;\n  text-align: right;\n  a {\n    color: ",";\n    text-decoration: underline;\n    &:hover {\n      color: ",";\n    }\n  }\n"])),I.gray[6],I.gray[9]),qn=Object(y.b)(L)(Dn||(Dn=Object(v.a)(["\n  margin-top: 1rem;\n"]))),Jn={login:"\ub85c\uadf8\uc778",register:"\ud68c\uc6d0\uac00\uc785"},Qn=y.b.div(An||(An=Object(v.a)(["\n  color: red;\n  text-align: center;\n  font-size: 0.875rem;\n  margin-top: 1rem;\n"]))),Zn=function(e){var n=e.type,t=e.form,r=e.onChange,a=e.onSubmit,o=e.error,c=Jn[n];return Object(k.jsxs)(Un,{children:[Object(k.jsx)("h3",{children:c}),Object(k.jsxs)("form",{onSubmit:a,children:[Object(k.jsx)(Hn,{autoComplete:"username",name:"username",placeholder:"\uc544\uc774\ub514",onChange:r,value:t.username}),Object(k.jsx)(Hn,{autoComplete:"new-password",name:"password",placeholder:"\ube44\ubc00\ubc88\ud638",type:"password",onChange:r,value:t.password}),"register"===n&&Object(k.jsx)(Hn,{autoComplete:"new-password",name:"passwordConfirm",placeholder:"\ube44\ubc00\ubc88\ud638 \ud655\uc778",type:"password",onChange:r,value:t.passwordConfirm}),o&&Object(k.jsx)(Qn,{children:o}),Object(k.jsx)(qn,{indigo:!0,fullWidth:!0,style:{marginTop:"1rem"},children:c})]}),Object(k.jsx)(Wn,{children:"login"===n?Object(k.jsx)(T.b,{to:"/register",children:"\ud68c\uc6d0\uac00\uc785"}):Object(k.jsx)(T.b,{to:"/login",children:"\ub85c\uadf8\uc778"})})]})},Kn=Object(m.e)((function(e){var n=e.history,t=Object(p.useState)(null),r=Object(U.a)(t,2),a=r[0],o=r[1],c=Object(x.b)(),i=Object(x.c)((function(e){var n=e.auth,t=e.user;return{form:n.login,auth:n.auth,authError:n.authError,user:t.user}})),s=i.form,u=i.auth,b=i.authError,l=i.user;return Object(p.useEffect)((function(){c(kn("login"))}),[c]),Object(p.useEffect)((function(){if(b)return console.log("\uc624\ub958 \ubc1c\uc0dd"),console.log(b),void o("\ub85c\uadf8\uc778 \uc2e4\ud328");u&&(console.log("\ub85c\uadf8\uc778 \uc131\uacf5"),c(je()))}),[u,b,c]),Object(p.useEffect)((function(){if(l){n.push("/");try{localStorage.setItem("user",JSON.stringify(l))}catch(e){console.log("localStorage is not working")}}}),[n,l]),Object(k.jsx)(Zn,{type:"login",form:s,onChange:function(e){var n=e.target,t=n.value,r=n.name;c(En({form:"login",key:r,value:t}))},onSubmit:function(e){e.preventDefault();var n=s.username,t=s.password;c(Sn({username:n,password:t}))},error:a})})),$n=function(){return Object(k.jsx)(un,{children:Object(k.jsx)(Kn,{})})},Vn=Object(m.e)((function(e){var n=e.history,t=Object(p.useState)(null),r=Object(U.a)(t,2),a=r[0],o=r[1],c=Object(x.b)(),i=Object(x.c)((function(e){var n=e.auth,t=e.user;return{form:n.register,auth:n.auth,authError:n.authError,user:t.user}})),s=i.form,u=i.auth,b=i.authError,l=i.user;return Object(p.useEffect)((function(){c(kn("register"))}),[c]),Object(p.useEffect)((function(){if(b)return 409===b.response.status?void o("\uc774\ubbf8 \uc874\uc7ac\ud558\ub294 \uacc4\uc815\uba85\uc785\ub2c8\ub2e4"):void o("\ud68c\uc6d0\uac00\uc785 \uc2e4\ud328");u&&(console.log("\ud68c\uc6d0\uac00\uc785 \uc131\uacf5"),console.log(u),c(je()))}),[u,b,c]),Object(p.useEffect)((function(){if(l){n.push("/");try{localStorage.setItem("user",JSON.stringify(l))}catch(e){console.log("localStorage is not working")}}}),[n,l]),Object(k.jsx)(Zn,{type:"register",form:s,onChange:function(e){var n=e.target,t=n.value,r=n.name;c(En({form:"register",key:r,value:t}))},onSubmit:function(e){e.preventDefault();var n=s.username,t=s.password,r=s.passwordConfirm;if(![n,t,r].includes(""))return t!==r?(o("\ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."),c(En({form:"register",key:"password",value:""})),void c(En({form:"register",key:"passwordConfirm",value:""}))):void c(Cn({username:n,password:t}));o("\ube48 \uce78\uc744 \ubaa8\ub450 \uc785\ub825\ud558\uc138\uc694.")},error:a})})),Xn=function(){return Object(k.jsx)(un,{children:Object(k.jsx)(Vn,{})})},Yn=t(59),et=t.n(Yn),nt=(t(109),Object(y.b)(S)(Nn||(Nn=Object(v.a)(["\n  /* \ud398\uc774\uc9c0 \uc704\uc544\ub798 \uc5ec\ubc31 \uc9c0\uc815 */\n  padding-top: 5rem;\n  padding-bottom: 5rem;\n"])))),tt=y.b.input(Fn||(Fn=Object(v.a)(["\n  font-size: 3rem;\n  outline: none;\n  padding-bottom: 0.5rem;\n  border: none;\n  border-bottom: 1px solid ",";\n  margin-bottom: 2rem;\n  width: 100%;\n"])),I.gray[4]),rt=y.b.div(zn||(zn=Object(v.a)(["\n  /* \ucd5c\uc18c \ud06c\uae30 \uc9c0\uc815 \ubc0f padding \uc81c\uac70 */\n  .ql-editor {\n    padding: 0;\n    min-height: 320px;\n    font-size: 1.125rem;\n    line-heignt: 1.5;\n  }\n\n  .ql-editor.ql-blank::before {\n    left: 0px;\n  }\n"]))),at=function(e){var n=e.title,t=e.body,r=e.onChangeField,a=Object(p.useRef)(null),o=Object(p.useRef)(null);Object(p.useEffect)((function(){o.current=new et.a(a.current,{theme:"bubble",placeholder:"\ub0b4\uc6a9\uc744 \uc791\uc131\ud558\uc138\uc694",modules:{toolbar:[[{header:"1"},{header:"2"}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],["blockquote","code-block","link","image"]]}});var e=o.current;e.on("text-change",(function(n,t,a){"user"===a&&r({key:"body",value:e.root.innerHTML})}))}),[r]);var c=Object(p.useRef)(!1);Object(p.useEffect)((function(){c.current||(c.current=!0,o.current.root.innerHTML=t)}),[t]);return Object(k.jsxs)(nt,{children:[Object(k.jsx)(tt,{placeholder:"\uc81c\ubaa9\uc744 \uc785\ub825\ud558\uc138\uc694",onChange:function(e){r({key:"title",value:e.target.value})},value:n}),Object(k.jsx)(rt,{children:Object(k.jsx)("div",{ref:a})})]})},ot=G.a.mark(kt),ct="write/INITIALIZE",it="write/CHANGE_FIELD",st=ee("write/WRITE_POST"),ut=Object(U.a)(st,3),bt=ut[0],lt=ut[1],jt=ut[2],dt="write/SET_ORIGINAL_POST",Ot=ee("write/UPDATE_POST"),pt=Object(U.a)(Ot,3),gt=pt[0],ft=(pt[1],pt[2]),ht=Object(H.a)(ct),mt=Object(H.a)(it,(function(e){return{key:e.key,value:e.value}})),xt=Object(H.a)(bt,(function(e){return{title:e.title,body:e.body,tags:e.tags}})),vt=Object(H.a)(dt,(function(e){return e})),yt=Object(H.a)(gt,(function(e){return{id:e.id,title:e.title,body:e.body,tags:e.tags}})),wt=ne(bt,(function(e){var n=e.title,t=e.body,r=e.tags;return Q.post("/api/posts",{title:n,body:t,tags:r})})),Et=ne(gt,(function(e){var n=e.id,t=e.title,r=e.body,a=e.tags;return Q.patch("/api/posts/".concat(n),{title:t,body:r,tags:a})}));function kt(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(q.d)(bt,wt);case 2:return e.next=4,Object(q.d)(gt,Et);case 4:case"end":return e.stop()}}),ot)}var Ct,St,Tt,It,Rt,Pt,_t,Lt={title:"",body:"",tags:[],post:null,postError:null,originalPostId:null},Dt=Object(W.a)((Mn={},Object(M.a)(Mn,ct,(function(e){return Lt})),Object(M.a)(Mn,it,(function(e,n){var t=n.payload,r=t.key,a=t.value;return Object(w.a)(Object(w.a)({},e),{},Object(M.a)({},r,a))})),Object(M.a)(Mn,bt,(function(e){return Object(w.a)(Object(w.a)({},e),{},{post:null,postError:null})})),Object(M.a)(Mn,lt,(function(e,n){var t=n.payload;return Object(w.a)(Object(w.a)({},e),{},{post:t})})),Object(M.a)(Mn,jt,(function(e,n){var t=n.payload;return Object(w.a)(Object(w.a)({},e),{},{postError:t})})),Object(M.a)(Mn,dt,(function(e,n){var t=n.payload;return Object(w.a)(Object(w.a)({},e),{},{title:t.title,body:t.body,tags:t.tags,originalPostId:t._id})})),Object(M.a)(Mn,ft,(function(e,n){var t=n.payload;return Object(w.a)(Object(w.a)({},e),{},{post:t})})),Object(M.a)(Mn,ft,(function(e,n){var t=n.payload;return Object(w.a)(Object(w.a)({},e),{},{postError:t})})),Mn),Lt),At=function(){var e=Object(x.b)(),n=Object(x.c)((function(e){var n=e.write;return{title:n.title,body:n.body}})),t=n.title,r=n.body,a=Object(p.useCallback)((function(n){return e(mt(n))}),[e]);return Object(p.useEffect)((function(){return function(){e(ht())}}),[e]),Object(k.jsx)(at,{onChangeField:a,title:t,body:r})},Nt=t(63),Ft=y.b.div(Ct||(Ct=Object(v.a)(["\n  width: 100%;\n  border-top: 1px solid ",";\n  padding-top: 2rem;\n\n  h4 {\n    color: ",";\n    margin-top: 0;\n    margin-bottom: 0.5rem;\n  }\n"])),I.gray[2],I.gray[8]),zt=y.b.form(St||(St=Object(v.a)(["\n  border-radius: 4px;\n  overflow: hidden;\n  display: flex;\n  width: 256px;\n  border: 1px solid ","; /* \uc2a4\ud0c0\uc77c \ucd08\uae30\ud654 */\n  input,\n  button {\n    outline: none;\n    border: none;\n    font-size: 1rem;\n  }\n\n  input {\n    padding: 0.5rem;\n    flex: 1;\n    min-width: 0;\n  }\n\n  button {\n    cursor: pointer;\n    padding-right: 1rem;\n    padding-left: 1rem;\n    border: none;\n    background: ",";\n    color: white;\n    font-weight: bold;\n    &:hover {\n      background: ",";\n    }\n  }\n"])),I.gray[9],I.gray[8],I.gray[6]),Mt=y.b.div(Tt||(Tt=Object(v.a)(["\n  margin-right: 0.5rem;\n  color: ",";\n  cursor: pointer;\n  &:hover {\n    opacity: 0.5;\n  }\n"])),I.gray[6]),Bt=y.b.div(It||(It=Object(v.a)(["\n  display: flex;\n  margin-top: 0.5rem;\n"]))),Gt=g.a.memo((function(e){var n=e.tag,t=e.onRemove;return Object(k.jsxs)(Mt,{onClick:function(){return t(n)},children:["#",n]})})),Ut=g.a.memo((function(e){var n=e.tags,t=e.onRemove;return Object(k.jsx)(Bt,{children:n.map((function(e){return Object(k.jsx)(Gt,{tag:e,onRemove:t},e)}))})})),Ht=function(e){var n=e.tags,t=e.onChangeTags,r=Object(p.useState)(""),a=Object(U.a)(r,2),o=a[0],c=a[1],i=Object(p.useState)([]),s=Object(U.a)(i,2),u=s[0],b=s[1],l=Object(p.useCallback)((function(e){if(e&&!u.includes(e)){var n=[].concat(Object(Nt.a)(u),[e]);b(n),t(n)}}),[u,t]),j=Object(p.useCallback)((function(e){var n=u.filter((function(n){return n!==e}));b(n),t(n)}),[u,t]),d=Object(p.useCallback)((function(e){c(e.target.value)}),[]),O=Object(p.useCallback)((function(e){e.preventDefault(),l(o.trim()),c("")}),[o,l]);return Object(p.useEffect)((function(){b(n)}),[n]),Object(k.jsxs)(Ft,{children:[Object(k.jsx)("h4",{children:"\ud0dc\uadf8"}),Object(k.jsxs)(zt,{onSubmit:O,children:[Object(k.jsx)("input",{placeholder:"\ud0dc\uadf8\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694",value:o,onChange:d}),Object(k.jsx)("button",{type:"submit",children:"\ucd94\uac00"})]}),Object(k.jsx)(Ut,{tags:u,onRemove:j})]})},Wt=function(){var e=Object(x.b)(),n=Object(x.c)((function(e){return e.write.tags}));return Object(k.jsx)(Ht,{onChangeTags:function(n){e(mt({key:"tags",value:n}))},tags:n})},qt=y.b.div(Rt||(Rt=Object(v.a)(["\n  margin-top: 1rem;\n  margin-bottom: 3rem;\n  button + button {\n    margin-left: 0.5rem;\n  }\n"]))),Jt=Object(y.b)(L)(Pt||(Pt=Object(v.a)(["\n  height: 2.125rem;\n  & + & {\n    margin-left: 0.5rem;\n  }\n"]))),Qt=function(e){var n=e.onCancle,t=e.onPublish,r=e.isEdit;return Object(k.jsxs)(qt,{children:[Object(k.jsxs)(Jt,{indigo:!0,onClick:t,children:["\ud3ec\uc2a4\ud2b8 ",r?"\uc218\uc815":"\ub4f1\ub85d"]}),Object(k.jsx)(Jt,{onClick:n,children:"\ucde8\uc18c"})]})},Zt=Object(m.e)((function(e){var n=e.history,t=Object(x.b)(),r=Object(x.c)((function(e){var n=e.write;return{title:n.title,body:n.body,tags:n.tags,post:n.post,postError:n.postError,originalPostId:n.originalPostId}})),a=r.title,o=r.body,c=r.tags,i=r.post,s=r.postError,u=r.originalPostId;return Object(p.useEffect)((function(){if(i){var e=i._id,t=i.user;n.push("/@".concat(t.username,"/").concat(e))}s&&console.log(s)}),[n,i,s]),Object(k.jsx)(Qt,{onPublish:function(){t(u?yt({title:a,body:o,tags:c,id:u}):xt({title:a,body:o,tags:c}))},onCancle:function(){n.goBack()},inEdit:!!u})})),Kt=t(24),$t=function(){return Object(k.jsxs)(S,{children:[Object(k.jsx)(Kt.a,{children:Object(k.jsx)("title",{children:"\uae00 \uc791\uc131\ud558\uae30 - REACTERS"})}),Object(k.jsx)(At,{}),Object(k.jsx)(Wt,{}),Object(k.jsx)(Zt,{})]})},Vt=t(61),Xt=G.a.mark(sr),Yt=ee("post/READ_POST"),er=Object(U.a)(Yt,3),nr=er[0],tr=er[1],rr=er[2],ar="post/UNLOAD_POST",or=Object(H.a)(nr,(function(e){return e})),cr=Object(H.a)(ar),ir=ne(nr,(function(e){return Q.get("/api/posts/".concat(e))}));function sr(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(q.d)(nr,ir);case 2:case"end":return e.stop()}}),Xt)}var ur,br,lr,jr,dr,Or,pr,gr,fr={post:null,error:null},hr=Object(W.a)((_t={},Object(M.a)(_t,tr,(function(e,n){var t=n.payload;return Object(w.a)(Object(w.a)({},e),{},{post:t})})),Object(M.a)(_t,rr,(function(e,n){var t=n.payload;return Object(w.a)(Object(w.a)({},e),{},{error:t})})),Object(M.a)(_t,ar,(function(){return fr})),_t),fr),mr=Object(y.b)(S)(ur||(ur=Object(v.a)(["\n  margin-top: 4rem;\n"]))),xr=y.b.div(br||(br=Object(v.a)(["\n  border-bottom: 1px solid ",";\n  padding-bottom: 3rem;\n  margin-bottom: 3rem;\n  h1 {\n    font-size: 3rem;\n    line-height: 1.5;\n    margin: 0;\n  }\n"])),I.gray[2]),vr=y.b.div(lr||(lr=Object(v.a)(["\n  font-size: 1.3125rem;\n  color: ",";\n"])),I.gray[8]),yr=function(e){var n=e.post,t=e.error,r=e.loading,a=e.actionButtons;if(t)return t.response&&404===t.response.status?Object(k.jsx)(mr,{children:"\uc874\uc7ac\ud558\uc9c0 \uc54a\ub294 \ud3ec\uc2a4\ud2b8\uc785\ub2c8\ub2e4."}):Object(k.jsx)(mr,{children:"\uc624\ub958 \ubc1c\uc0dd!"});if(r||!n)return null;var o=n.title,c=n.body,i=n.user,s=n.publishedDate,u=n.tags;return Object(k.jsxs)(mr,{children:[Object(k.jsx)(Kt.a,{children:Object(k.jsxs)("title",{children:[o," - REACTERS"]})}),Object(k.jsxs)(xr,{children:[Object(k.jsx)("h1",{children:o}),Object(k.jsx)(Re,{username:i.username,publishedDate:s,hasMarginTop:!0}),Object(k.jsx)(_e,{tags:u})]}),a,Object(k.jsx)(vr,{dangerouslySetInnerHTML:{__html:c}})]})},wr=y.b.div(jr||(jr=Object(v.a)(["\n  position: fixed;\n  z-index: 30;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.25);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),Er=y.b.div(dr||(dr=Object(v.a)(["\n  width: 320px;\n  background: white;\n  padding: 1.5rem;\n  border-radius: 4px;\n  box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.125);\n  h2 {\n    margin-top: 0;\n    margin-bottom: 1rem;\n  }\n  p {\n    margin-bottom: 3rem;\n  }\n  .buttons {\n    display: flex;\n    justify-content: flex-end;\n  }\n"]))),kr=Object(y.b)(L)(Or||(Or=Object(v.a)(["\n  height: 2rem;\n  & + & {\n    margin-left: 0.75rem;\n  }\n"]))),Cr=function(e){var n=e.visible,t=e.title,r=e.description,a=e.confirmText,o=void 0===a?"\ud655\uc778":a,c=e.cancleText,i=void 0===c?"\ucde8\uc18c":c,s=e.onConfirm,u=e.onCancle;return n?Object(k.jsx)(wr,{children:Object(k.jsxs)(Er,{children:[Object(k.jsx)("h2",{children:t}),Object(k.jsx)("p",{children:r}),Object(k.jsxs)("div",{className:"buttons",children:[Object(k.jsx)(kr,{onClick:u,children:i}),Object(k.jsx)(kr,{indigo:!0,onClick:s,children:o})]})]})}):null},Sr=function(e){var n=e.visible,t=e.onConfirm,r=e.onCancle;return Object(k.jsx)(Cr,{visible:n,title:"\ud3ec\uc2a4\ud2b8 \uc0ad\uc81c",description:"\ud3ec\uc2a4\ud2b8\ub97c \uc815\ub9d0 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",confirmText:"\uc0ad\uc81c",onConfirm:t,onCancle:r})},Tr=y.b.div(pr||(pr=Object(v.a)(["\n  display: flex;\n  justify-content: flex-end;\n  margin-bottom: 2rem;\n  margin-top: 1.5rem;\n"]))),Ir=y.b.button(gr||(gr=Object(v.a)(["\n  padding: 0.25rem 1.5rem;\n  border-radius: 4px;\n  color: ",";\n  font-weight: bold;\n  border: none;\n  outline: none;\n  font-size: 0.875rem;\n  cursor: pointer;\n  &:hover {\n    background: ",";\n    color: ",";\n  }\n  & + & {\n    margin-left: 0.25rem;\n  }\n"])),I.gray[6],I.gray[1],I.indigo[5]),Rr=function(e){var n=e.onEdit,t=e.onRemove,r=Object(p.useState)(!1),a=Object(U.a)(r,2),o=a[0],c=a[1];return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(Tr,{children:[Object(k.jsx)(Ir,{onClick:n,children:"\uc218\uc815"}),Object(k.jsx)(Ir,{onClick:function(){c(!0)},children:"\uc0ad\uc81c"})]}),Object(k.jsx)(Sr,{visible:o,onConfirm:function(){c(!1),t()},onCancle:function(){c(!1)}})]})},Pr=Object(m.e)((function(e){var n=e.match,t=e.history,r=n.params.postId,a=Object(x.b)(),o=Object(x.c)((function(e){var n=e.post,t=e.loading,r=e.user;return{post:n.post,error:n.error,loading:t["post/READ_POST"],user:r.user}})),c=o.post,i=o.error,s=o.loading,u=o.user;Object(p.useEffect)((function(){return a(or(r)),function(){a(cr())}}),[a,r]);var b=function(){var e=Object(Vt.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n=r,Q.delete("/api/posts/".concat(n));case 3:t.push("/"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}var n}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),l=(u&&u._id)===(c&&c.user._id);return Object(k.jsx)(yr,{post:c,loading:s,error:i,actionButtons:l&&Object(k.jsx)(Rr,{onEdit:function(){a(vt(c)),t.push("/write")},onRemove:b})})})),_r=function(){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(Ce,{}),Object(k.jsx)(Pr,{})]})},Lr=function(){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(Kt.a,{children:Object(k.jsx)("title",{children:"REACTERS"})}),Object(k.jsx)(m.a,{component:on,path:["/@:username","/"],exact:!0}),Object(k.jsx)(m.a,{component:$n,path:["/login"]}),Object(k.jsx)(m.a,{component:Xn,path:["/register"]}),Object(k.jsx)(m.a,{component:$t,path:["/write"]}),Object(k.jsx)(m.a,{component:_r,path:["/@:username/:postId"]})]})},Dr=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,113)).then((function(n){var t=n.getCLS,r=n.getFID,a=n.getFCP,o=n.getLCP,c=n.getTTFB;t(e),r(e),a(e),o(e),c(e)}))},Ar=t(25),Nr=t(62),Fr=t(64),zr=G.a.mark(Mr);function Mr(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(q.a)([Rn(),fe(),kt(),sr(),Je()]);case 2:case"end":return e.stop()}}),zr)}var Br=Object(Ar.combineReducers)({auth:Gn,loading:Y,user:ke,write:Dt,post:hr,posts:Xe}),Gr=Object(Fr.a)(),Ur=Object(Ar.createStore)(Br,Object(Nr.composeWithDevTools)(Object(Ar.applyMiddleware)(Gr)));Gr.run(Mr),function(){try{var e=localStorage.getItem("user");if(!e)return;Ur.dispatch(le(e)),Ur.dispatch(je())}catch(n){console.log("localSotrage is not working")}}(),h.a.render(Object(k.jsx)(x.a,{store:Ur,children:Object(k.jsx)(T.a,{children:Object(k.jsx)(Kt.b,{children:Object(k.jsx)(Lr,{})})})}),document.getElementById("root")),Dr()},70:function(e,n,t){}},[[110,1,2]]]);
//# sourceMappingURL=main.8b3f0ddd.chunk.js.map